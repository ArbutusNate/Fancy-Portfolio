<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
    <link rel="stylesheet" href="style/style.css" type="text/css" />
    <title>Nathan Crawford, WebDev</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link href="https://fonts.googleapis.com/css?family=Press+Start+2P" rel="stylesheet">
  </head>
  <body>
    <!-- Main Wrapper for scrolling -->
    <div class="wrapper">
      <!-- <div class="scroll-overlay"></div> -->
      <!-- Brand and Animated Rings -->
        <div class="round-cont" id="namebox-outer-ring">
          <div class="round-cont" id="namebox">
            <div class="round-cont brand">
              <p id="brand-text">Nathan Crawford</p>
            </div>
          </div>
        </div>
    <!-- CAROUSEL -->
      <div class="round-cont carousel">
        <!-- INFO BOX -->
            <div class="car-cont" id="info-box">
              <h1>Info</h1>
            </div>
        <!-- PORTFOLIO -->
          <div class="car-cont" id="port-box">
            <h1>Some of my Projects</h1>
            <a href="https://arthub-project.herokuapp.com/">Arthub</a>
          </div>
        <!-- SOCIAL BOX -->
          <div class="car-cont" id="social-box">
            <h1>Get in Touch!</h1>
          <!-- LINKED IN @ LOCATION (0,0)-->
            <a href="https://www.linkedin.com/in/nate-crawford/" target="_blank" class="socialframe">
              <img class="socialimg" src="./assets/inIcon.png">
            </a>
          <!-- GITHUB @ LOCATION (0,475)-->
            <a href="https://github.com/ArbutusNate" target="_blank" class="socialframe">
              <img class="socialimg" src="./assets/gitIcon.png">
            </a>
          <!-- StackOverflow @ LOCATION (0,847)-->
            <a href="https://stackoverflow.com/users/7833943/arbutusnate" target="_blank" class="socialframe">
              <img class="socialimg" src="./assets/stackIcon.png">
            </a>
          <!-- GITHUB -->
            <a href="https://github.com/ArbutusNate" target="_blank" class="socialframe">
              <img class="socialimg" src="./assets/twitIcon.png">
            </a>
          </div>
      </div>
    </div>
  <!-- Scripts -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="js/javascript.js"></script>
    <script src="js/choreographer.min.js"></script>
    <script src="js/jquery.panelSnap.js"></script>
    <script src="js/jquery.scrollify.min.js"></script>


    <<script>
      // const options = {
      //   panelSelector: '.car-cont',
      //   // scrollSpeed: 550,
      //   setHeights: false,
      //   // offset: -100,
      //   slideSpeed: 200
      // };

      // jQuery(function($) {
      //   $('body').panelSnap(options);
      // });

      // $(function() {
      //   $.scrollify({
      //     section : ".car-cont",
      //     // offset: -40,
      //     scrollbars: false,
      //     scrollSpeed: 50
      //   });
      // });
      let pIndex = 0,
        win = $('window'),
        isScrolling = false,
        winOffset = window.pageYOffset;

      let pageIndex = [0, 480, 840, 1930];

      function animateScrolling(destPage) {
        console.log('scrolling to ' + destPage);
        $('body').animate({ scrollTop: destPage }, 2000, () => {
          isScrolling = false;
          console.log(pIndex);
        });
      };

      let choreographer = new Choreographer({
        animations: calculateAnimations(),
      });

      window.addEventListener('scroll', () => {
        winOffset = window.pageYOffset;
        if(!isScrolling){
          if(pIndex === 0 && winOffset > 3 && winOffset < 431) {
            pIndex = 1;
            isScrolling = true;
            return animateScrolling(pageIndex[pIndex]);
          }
          if(pIndex === 1 && winOffset < pageIndex[pIndex]) {
            pIndex = 0;
            isScrolling = true;
            return animateScrolling(pageIndex[pIndex]);
          }
          if(pIndex === 1 && winOffset > pageIndex[pIndex]) {
            pIndex = 2;
            isScrolling = true;
            return animateScrolling(pageIndex[pIndex]);
          }
          if(pIndex === 2 && winOffset < pageIndex[pIndex]) {
            pIndex = 1;
            isScrolling = true;
            return animateScrolling(pageIndex[pIndex]);
          }
          if(pIndex === 2 && winOffset > pageIndex[pIndex]) {
            pIndex = 3;
            isScrolling = true;
            return animateScrolling(pageIndex[pIndex]);
          }
          if(pIndex === 3 && winOffset < pageIndex[pIndex]) {
            pIndex = 2;
            isScrolling = true;
            return animateScrolling(pageIndex[pIndex]);
          }
        }
        choreographer.runAnimationsAt(window.pageYOffset);

      });

    </script>
  </body>
</html>